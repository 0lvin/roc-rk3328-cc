--- drivers/video/rockchip/rk_fb.c
+++ drivers/video/rockchip/rk_fb.c
@@ -1858,7 +1874,7 @@
 		win_data = rk_fb_get_win_data(regs, i);
 		if (win_data) {
 			if (rk_fb->disp_policy == DISPLAY_POLICY_BOX &&
-			     win_data->data_format == YUV420)
+			     win_data->reg_area_data[0].data_format == YUV420)
 				continue;
 			rk_fb_update_win(dev_drv, win, win_data);
 			win->state = 1;
@@ -1930,7 +1948,7 @@
 		for (i = 0; i < dev_drv->lcdc_win_num; i++) {
 			if (dev_drv->win[i]->state == 1) {
 				if (rk_fb->disp_policy == DISPLAY_POLICY_BOX &&
-				    (dev_drv->win[i]->format == YUV420 ||
+				    (dev_drv->win[i]->area[0].format == YUV420 ||
 				     !strcmp(dev_drv->win[i]->name, "hwc"))) {
 					continue;
 				} else {
